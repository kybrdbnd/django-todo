{% extends 'base.html' %} {% load staticfiles %}{% load chartkick %}{% load extra_todos_tags %} {% block content%} {% include 'preloader.html' %}
<script src="{% static 'libs/chartkick/js/chartkick.js'%}"></script>
<script src="{% static 'libs/chartkick/js/Chart.min.js'%}"></script>
<div class="container">
    <br>
    <div class="row">
        <div class="col m12">
            <div>
                <span class="project_detail_heading">Project Name:</span>
                <span class="project_detail_project_heading">{{project.name|capfirst}}</span>
            </div>
        </div>
        <div class="row"></div>
        <div class="col m12">
            <div>
                <span class="project_detail_heading">Project Managers:</span>
            </div>
            <br>
            <div class="col m3">
                {%for manager in project.members.all|managers%}
                <span class="chip member_name">
                <img src="{%static 'images/avatar.jpg'%}" alt="">
                    {{manager.user.username}}
                </span> {% empty%}
                <span>No managers available</span> {% endfor %}
            </div>
        </div>
        <div class="row"></div>
        <div class="col m12">
            <div>
                <span class="project_detail_heading">Stats:</span>
            </div>
            <br>
            {% bar_chart stats_data %}
        </div>
        <div class="row"></div>
        <div class="col m12">
            <span class="project_detail_heading">Members:</span>
        </div>
        {% for member in project.members.all%}
        <div class="col s12 m4">
            <div class="card yellow lighten-4 hoverable">
                <div class="card-content">
                    <span class="card-title">{{member.user.username}}
                        <span class="right">{{member.role.name}}</span>
                    </span>
                    {% for task in member.assigned_to.all|tasks:project.name %}
                    <div>
                        <span>{{task.name}}</span> &nbsp; <span>{{task.percentage_complete}}%</span>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}