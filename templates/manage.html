{% extends 'base.html' %} {% block content %}
<div class="container" ng-controller='manageController'>
    <br>
    <br>
    <div class="row">
        <div class="col m4">
            <a class="waves-effect waves-light btn" href="#project_modal"><i class="material-icons left">cloud</i>Add Project</a>
        </div>
        <div class="col m4">
            <a class="waves-effect waves-light btn" href="#send_invitaton_modal"><i class="material-icons left">cloud</i>Send Invite</a>
        </div>
        <!-- Project Modal Structure -->
        <div id="project_modal" class="modal">
            <form>
                <div class="modal-content">
                    <div class="input-field col m8">
                        <input type="text" name="name" ng-model="name">
                        {{project_form.name.label_tag}}
                    </div>
                    <div class="col m4">
                        <button ng-click="addProject(name)" class="modal-action waves-effect waves-green btn-flat">Add</button>
                    </div>
                </div>
            </form>
            <div class="modal-footer">
                <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">Close</a>
            </div>
        </div>
        <!-- Invitation Modal Structure -->
        <div id="send_invitaton_modal" class="modal">
            <form>
                <div class="modal-content">
                    <div class="input-field col m8">
                        <input type="email" name="email" ng-model="email">
                        <label for="email">Enter Inviter Email Id</label>
                    </div>
                    <div class="col m4">
                        <button ng-click="sendInvite(email)" class="modal-action waves-effect waves-green btn-flat">Send</button>
                    </div>
                </div>
            </form>
            <div class="modal-footer">
                <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">Close</a>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
    {% verbatim %}
    <div class="row">
        <div class="col m8">
            <div class="row">
                <div class="col m12">
                    <h4>Company Name: {{company.name}}</h4>
                    <div class="col m12">
                        Members:
                    </div>
                    <div class="clearfix"></div>
                    <div class="col m3" ng-repeat="employee in company.employees">
                        {{employee.profile.user.username}}
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col m12" ng-repeat="project in projects">
                    <h4>Project Name: {{project.name}}</h4>
                    <div class="col m12">
                        Members:
                    </div>
                    <div class="clearfix"></div>
                    <div class="col m3" ng-repeat="member in project.members">
                        {{member.profile.user.username}}
                    </div>
                </div>
            </div>
        </div>
        <div class="col m4">
            New project space
        </div>
    </div>
    {% endverbatim %}
</div>
{% endblock %} {% block extra_js %}
<script>
$(document).ready(function() {
    // the "href" attribute of the modal trigger must specify the modal ID that wants to be triggered
    $('.modal').modal();
});
</script>
{% endblock %}
